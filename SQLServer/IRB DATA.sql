SELECT 
pd.[PROTOCOL_ID],
pd.[TITLE_LONG],
pd.[TITLE_SHORT],
pd.[ORIGINALLY_APPROVED_DT],
pd.[IS_NIH_FUNDED],
pd.[IS_MULTI_SITE_OR_CEDING],
pd.[PI_USER_ID],
pd.[IS_CLINICAL_TRIAL],
pd.[NCT_NUMBER],
ft.[UFIRST_NUM],
ft.[IS_DHHS],
ft.[IS_FED_GRANT_NON_DHS_VA],
ft.[IS_INDUSTRY],
ft.[IS_INTERNAL_FUNDED_CTSI],
ft.[IS_INTERNAL_FUNDED_OTHER],
ft.[IS_FUNDING_REQUIRED],
ft.[IS_NON_PROFIT_ORG],
ft.[IS_VA]
FROM [Base].[vwUF_TB_CLK_IRB_PROTOCOL_DETAILS] PD
LEFT JOIN [Base].[vwUF_TB_CLK_IRB_PROTOCOL_FUNDING_TYPE] ft
ON pd.[PROTOCOL_ID]=ft.[PROTOCOL_ID]
WHERE pd.[NCT_NUMBER] IS NOT NULL
;

SELECT * from [Base].[vwUF_TB_CLK_IRB_PROTOCOL_FUNDING_TYPE]
WHERE [PROTOCOL_ID] IN (SELECT DISTINCT [PROTOCOL_ID] FROM [Base].[vwUF_TB_CLK_IRB_PROTOCOL_DETAILS] WHERE [NCT_NUMBER] IS NOT NULL);


SELECT 
pd.[PROTOCOL_ID],
pd.[TITLE_LONG],
pd.[TITLE_SHORT],
pd.[ORIGINALLY_APPROVED_DT],
pd.[IS_NIH_FUNDED],
pd.[IS_MULTI_SITE_OR_CEDING],
pd.[PI_USER_ID],
pd.[IS_CLINICAL_TRIAL],
pd.[NCT_NUMBER],
ft.[UFIRST_NUM],
ft.[IS_DHHS],
ft.[IS_FED_GRANT_NON_DHS_VA],
ft.[IS_INDUSTRY],
ft.[IS_INTERNAL_FUNDED_CTSI],
ft.[IS_INTERNAL_FUNDED_OTHER],
ft.[IS_FUNDING_REQUIRED],
ft.[IS_NON_PROFIT_ORG],
ft.[IS_VA],
fs.[FUNDING_SRC_TYPE],
fs.[FUNDING_SRC_STATUS],
fs.[SPONSOR],
fs.[SPONSOR_ID],
fs.[GRANT_NAME],
fs.[UFIRST_PROJECT_ID]

FROM [Base].[vwUF_TB_CLK_IRB_PROTOCOL_DETAILS] PD
LEFT JOIN [Base].[vwUF_TB_CLK_IRB_PROTOCOL_FUNDING_TYPE] ft ON pd.[PROTOCOL_ID]=ft.[PROTOCOL_ID]
LEFT JOIN [Base].[vwUF_TB_CLK_IRB_FUNDING_SOURCE] fs ON pd.[PROTOCOL_ID]=fs.[PROTOCOL_ID]
WHERE pd.[NCT_NUMBER] IS NOT NULL
; 






WHERE pd.[NCT_NUMBER] IS NOT NULL
;
